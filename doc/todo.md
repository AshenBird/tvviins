
# 开发计划

## 功能

- 统一开发时路径别名配置
- 统一监听服务端口
- 重构配置项
- 提供 api 集中注册与 具名接口能力，包括命名空间别名
- 提供纯后端体验
- 提供模块化能力

### 具名接口与模块化设计

#### 模块化的基本设计

1. 模块应该为 Tvvins 实例
2. 模块要拥有配置能力
3. 坚持模块提供业务，插件提供能力
4. 更高层级插件，应该可以被子集模块调用
5. 考虑提供多层次的插件注册中心
6. 要保证不同rpc插件之间不会冲突
7. 模块应该能够作为一个npm发布与利用
8. 插件能力应该被限制，不然会出问题
9. 理论上插件和模块都能在一定程度上修改配置项，应该做出区分，加载顺序、如何集成，要慎重

#### rpc

- 应该为接口提供一个致密模式的数据结构，不传递scheme，不转义数据，限制数据类型，主要是需要为大数据量服务
- 应该额外提供一个集中传输模式，用 ws 来实现
- 应该额外提供一个s边传输模式，只发请求，用长推流来获得返回数据（长推流卸载应该要想办法做）

## BUG 清单

- rpc 文件中，非接口函数也会被打包成接口函数
- rpc 接口作为普通函数调用时，无法访问上下文

## 测试

- 大并发测试
- 大流量数据测试
